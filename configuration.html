<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.3 at Feb 15, 2013 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>usb4java - Configuration</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20130215" />
    <meta http-equiv="Content-Language" content="en" />
                                                    
<link rel="SHORTCUT ICON" href="favicon.ico"/>
                      
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="./" id="bannerLeft">
                                                <img src="images/logo.png" alt="usb4java" />
                </a>
                              <a href="https://github.com/kayahr/usb4java/" id="bannerRight">
                                        <img src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
            
                <div class="xleft">
        <span id="publishDate">Last Published: 2013-02-15</span>
                  &nbsp;| <span id="projectVersion">Version: 0.5.0</span>
                      </div>
            <div class="xright">                    <a href="http://javax-usb.sourceforge.net/" class="externalLink" title="javax.usb">javax.usb</a>
            |
                        <a href="http://www.libusb.org/" class="externalLink" title="libusb">libusb</a>
            |
                        <a href="http://sourceforge.net/apps/trac/libusb-win32/wiki" class="externalLink" title="libusb-win32">libusb-win32</a>
              
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
            
                                <h5>usb4java</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="About">About</a>
            </li>
                  <li class="none">
                          <a href="quickstart.html" title="Quick start">Quick start</a>
            </li>
                  <li class="none">
                          <a href="faq.html" title="FAQ">FAQ</a>
            </li>
                  <li class="none">
            <strong>Configuration</strong>
          </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                    <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                      <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
            
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Configuration<a name="Configuration"></a></h2><p>To tell the USB Host Manager of <i>javax.usb</i> to use the <i>usb4java</i> implementation you have to put the following property into the <i>javax.usb.properties</i> file which must be located in the root of your classpath:</p><div class="source"><pre>javax.usb.services = de.ailis.usb4java.Services</pre></div><p><i>usb4java</i> can be configured by adding more properties to this file as described in the following sections. All these properties only affect the high-level <i>javax.usb</i> API of <i>usb4java</i>. The low-level API just wraps the native <i>libusb</i> library so no configuration is available (or needed) for it.</p><div class="section"><h3>Communication timeout<a name="Communication_timeout"></a></h3><p>The default USB communication timeout of <i>usb4java</i> is 2500 milliseconds. To change this to 250 milliseconds for example add this to the properties file: </p><div class="source"><pre>de.ailis.usb4java.timeout = 250</pre></div></div><div class="section"><h3>Hierarchy scanning<a name="Hierarchy_scanning"></a></h3><p>Normally USB devices in <i>javax.usb</i> are maintained in a tree. The root of the tree is a virtual USB hub provided by <i>usb4java</i>. All physical root hubs are connected to this virtual hub and all child hubs and devices are connected to these root hubs. Unfortunately <i>libusb</i> has problems on platforms like Mac OS X to read the real USB device hierarchy from the operating system. So to allow <i>usb4java</i> to be used on Mac OS X this hierarchy scan can be disabled (and is disabled by default when running on Mac OS X). The result is that all USB devices are directly connected to the virtual root USB hub. At least this allows finding and communicating with the devices but you can't check which devices are connected to which hub in this case.</p><p>To disable hierarchy scanning add this to the <i>javax.usb.properties</i> file:</p><div class="source"><pre>de.ailis.usb4java.scanHierarchy = false</pre></div><p>When you want to enable it on Mac OS X for some reason then set it to <tt>true</tt>.</p></div><div class="section"><h3>Device filtering<a name="Device_filtering"></a></h3><p>To improve USB device scan performance you can configure device filters with these two properties:</p><div class="source"><pre>de.ailis.usb4java.vendors = 12ab cd56
de.ailis.usb4java.products = 01aa</pre></div><p>With a configuration like this <i>usb4java</i> ignores all devices which does not have vendor ID <tt>12ab</tt> or <tt>cd56</tt> and not product ID <tt>01aa</tt>.</p><p>The purpose of this device filtering is performance. When your machine has many USB devices connected then it may slow down your application when <i>usb4java</i> has to read all the descriptors of all connected devices on startup and every time a USB device has been attached or detached. So filtering for vendor ID and/or product ID will hide all uninteresting devices from the <i>usb4java</i>. When using this feature then it is recommended to disable hierarchy scan, too, because then hubs can be totally ignored. With enabled hierarchy scan <i>usb4java</i> has to traverse all hubs to find interesting devices.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2011-2013
                        <a href="http://www.ailis.de/~k/">Klaus Reimer</a>.
            All Rights Reserved.      
            
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
